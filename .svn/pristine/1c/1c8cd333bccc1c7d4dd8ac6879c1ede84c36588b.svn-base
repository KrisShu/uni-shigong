import { i18n } from '@/main';
// codes.ts —— 业务码到 i18n Key 的映射
export const BIZ_CODE_I18N_KEY: Record<number, string> = {
    1001: 'api.1001', // token未传入
    1002: 'api.1002', // token解析失败非法token
    1003: 'api.1003', // 账号信息过期，请重新登录！
    1004: 'api.1004', // 系统异常
    1009: 'api.1009', // 用户被挤了
    3001: 'api.3001', // 登录失败
    3002: 'api.3002', // 登录类型异常
    3003: 'api.3003', // 员工账号错误
    3004: 'api.3004', // 账号密码错误
    3005: 'api.3005', // 缺少参数
    3006: 'api.3006', // 项目不存在
    3007: 'api.3007', // 项目已经作废
    3008: 'api.3008', // 项目已启动
    3009: 'api.3009', // 非项目负责人
    3010: 'api.3010', // 状态已经变更
    3011: 'api.3011', // 每天仅可操作一次
    3012: 'api.3012', // 需先确认整改完毕
    3013: 'api.3013', // 需先更新进度为100%
    3014: 'api.3014', // 每人每天只可签到一次
    3015: 'api.3015', // 每人每天只可签退一次
    3016: 'api.3016', // 签到时间已过
    3017: 'api.3017', // 签退时间已过
    3018: 'api.3018', // 签到时间未到
    3019: 'api.3019', // 签退时间未到
    3020: 'api.3020', // 签到时间未到
} as const;

export function getBizMsgByCode(code?: number, fallback?: string): string | undefined {
    if (code == null) return fallback;
    const key = BIZ_CODE_I18N_KEY[code];
    // 若没配置翻译，返回传入的 fallback
    return key ? i18n.global.t(key) : fallback;
}
